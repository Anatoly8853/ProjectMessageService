# Название проекта: ProjectMessageService
Краткое описание:
ProjectMessageService — это микросервисное приложение, разработанное на языке Go, которое предоставляет функционал для отправки, сохранения и обработки сообщений. Приложение взаимодействует с PostgreSQL для хранения сообщений и использует Apache Kafka для асинхронной обработки и передачи сообщений.

Основные компоненты:
API для работы с сообщениями:

POST /messages: Принимает сообщение и сохраняет его в базе данных PostgreSQL, а также отправляет его в соответствующий топик Kafka.
GET /stats: Возвращает количество обработанных сообщений.
Хранилище данных:

PostgreSQL используется для хранения сообщений. Схема базы данных включает таблицу messages с полями id, content, processed, и created_at.
Обработка сообщений:

Сообщения отправляются в Kafka, где они асинхронно обрабатываются различными консьюмерами. Консьюмеры читают сообщения из топиков Kafka и отмечают их как обработанные в базе данных.
Интеграция с Kafka:

Kafka используется для асинхронной обработки сообщений. Приложение включает как продюсеры (отправители сообщений), так и консьюмеры (обработчики сообщений).
Основные файлы:
config.go:

Загружает конфигурацию приложения из файла и переменных окружения.
repository.go:

Содержит логику для взаимодействия с базой данных PostgreSQL. Включает методы для сохранения сообщений и получения количества обработанных сообщений.
service.go:

Основной бизнес-логика приложения. Включает методы для сохранения сообщений, отправки их в Kafka и обработки сообщений, полученных из Kafka.
main.go:

Точка входа в приложение. Настраивает зависимости, маршруты и запускает HTTP сервер.
docker-compose.yml:

Содержит конфигурацию для запуска всех сервисов приложения (Go-приложение, PostgreSQL, Kafka, Zookeeper) в контейнерах Docker.
Пример использования:
Отправка сообщения:

Пользователь отправляет HTTP POST запрос на /messages с телом запроса, содержащим сообщение.
Сообщение сохраняется в базе данных и отправляется в соответствующий топик Kafka.
Обработка сообщения:

Консьюмер Kafka получает сообщение из топика, обрабатывает его и отмечает как обработанное в базе данных.
Получение статистики:

Пользователь отправляет HTTP GET запрос на /stats, чтобы получить количество обработанных сообщений.
Основные зависимости:
Go: Основной язык разработки.
PostgreSQL: Для хранения данных.
Kafka: Для асинхронной обработки сообщений.
Docker: Для контейнеризации и упрощения развертывания приложения.
Gin: Для создания HTTP сервера.
segmentio/kafka-go: Для взаимодействия с Kafka.

Пример http://localhost:8080/messages
{
  "topic": "ping",
  "message": "Hello, world!"
}
